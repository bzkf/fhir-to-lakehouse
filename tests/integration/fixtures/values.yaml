stream-processors:
  enabled: false
  strimziClusterName: fhir-to-delta-kafka
  processors:
    fhir-to-delta:
      replicaCount: 1
      container:
        image:
          registry: ghcr.io
          repository: bzkf/fhir-to-delta
          tag: "test" # set in CI
          pullPolicy: IfNotPresent
        securityContext:
          allowPrivilegeEscalation: false
          privileged: false
          capabilities:
            drop:
              - ALL
          readOnlyRootFilesystem: false
          runAsNonRoot: true
          runAsUser: 185
          runAsGroup: 185
          seccompProfile:
            type: RuntimeDefault
        extraVolumeMounts:
          - name: spark-conf
            mountPath: /opt/spark/conf
            readOnly: true
      extraVolumes:
        - name: spark-conf
          configMap:
            name: "fixtures-spark-defaults-conf"
